Если захочешь потестить, то можно просто убрать блок кода с конвертацией файла в book_field_managed_book_value() и оставить загрузку готового swf, который я приложил.

Функция drupal_process_form() вызывается в file_ajax_upload(). После нее все валится. Если просто пдфник загружать, то все норм. записи данных в таблице file_managed для пдф и свф по своему виду не отличаются. 
